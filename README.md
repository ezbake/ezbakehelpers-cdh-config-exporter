# cdh-config-exporter

This project is designed to help a system admin create an ez-configuration properties files for access to the hadoop
cluster, including HDFS access.

## Usage

    java -jar ezbakehelpers-cdh-config-exporter-2.0.jar
      -c (--cluster-name) VAL : Name of the cluster to export the information. Defaults to the first cluster returned by cdh
      -h (--host) VAL         : host of the service
      -o (--output) VAL       : Filename to write the properties to. Defaults to stdout
      -p (--password) VAL     : The password to log in as
      -u (--username) VAL     : The username to log in as
      -v (--verbose)          : Be verbose

Host, username, and password are all required.  The others have sane defaults.

## Example usage

    java -jar ezbakehelpers-cdh-config-exporter-2.0.jar -h cm01 -u admin -p adminpassword
    
Outputs to stdout like:

    #Auto-generated by ezbake.helpers.cdh.Cdh2EzProperties at 2014-08-01T20:49:40.929Z
    #Fri Aug 01 20:49:41 GMT+00:00 2014
    dfs.namenode.http-address.nameservice1.namenode925=nn01\:50070
    dfs.namenode.servicerpc-address.nameservice1.namenode637=nn02\:8022
    dfs.ha.namenodes.nameservice1=namenode925,namenode637
    dfs.namenode.rpc-address.nameservice1.namenode637=nn02\:8020
    dfs.client.use.datanode.hostname=false
    dfs.client.read.shortcircuit=false
    dfs.blocksize=134217728
    hadoop.security.authentication=simple
    dfs.namenode.https-address.nameservice1.namenode637=nn02\:50470
    dfs.client.domain.socket.data.traffic=false
    dfs.client.read.shortcircuit.skip.checksum=false
    hadoop.security.auth_to_local=DEFAULT
    dfs.namenode.servicerpc-address.nameservice1.namenode925=nn01\:8022
    fs.permissions.umask-mode=022
    fs.trash.interval=1
    dfs.namenode.rpc-address.nameservice1.namenode925=nn01\:8020
    dfs.replication=3
    dfs.domain.socket.path=/var/run/hdfs-sockets/dn
    ha.zookeeper.quorum=zk01\:2181,zk02\:2181,zk03\:2181
    dfs.namenode.https-address.nameservice1.namenode925=nn01\:50470
    io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec,org.apache.hadoop.io.compress.DeflateCodec,org.apache.hadoop.io.compress.SnappyCodec,org.apache.hadoop.io.compress.Lz4Codec
    dfs.namenode.http-address.nameservice1.namenode637=nn02\:50070
    fs.defaultFS=hdfs\://ns1
    hadoop.rpc.protection=authentication
    dfs.nameservices=ns1
    dfs.datanode.hdfs-blocks-metadata.enabled=true
    dfs.ha.automatic-failover.enabled.ns1=true